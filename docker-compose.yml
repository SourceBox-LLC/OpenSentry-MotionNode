# OpenSentry Camera Node
# Quick Start: docker compose up --build
# Stream URL: rtsp://localhost:8554/<camera_id>

services:
  opensentry-node:
    build: .
    container_name: opensentry-node-${CAMERA_ID:-camera1}
    restart: on-failure
    network_mode: host
    privileged: true
    env_file:
      - .env
    devices:
      - ${CAMERA_DEVICE:-/dev/video0}:${CAMERA_DEVICE:-/dev/video0}
    deploy:
      resources:
        limits:
          memory: 512M
